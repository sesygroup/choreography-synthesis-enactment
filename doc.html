<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Choreography Synthesis and Enactment at Work documentation page for replication package</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="scribbler-global.css">
    <link rel="stylesheet" href="scribbler-doc.css">
    <link rel="author" href="humans.txt">
  </head>
  <body>
    <div class="doc__bg"></div>
    <nav class="header">
      <h1 class="logo">Choreography Synthesis and Enactment at Work <span class="logo__thin">Doc</span></h1>
      <ul class="menu">
        <div class="menu__item toggle"><span></span></div>
        <li class="menu__item"><a href="https://github.com/sesygroup/choreography-synthesis-enactment" class="link link--dark"><i class="fa fa-github"></i> Github</a></li>
        <li class="menu__item"><a href="index.html" class="link link--dark"><i class="fa fa-home"></i> Home</a></li>
      </ul>
    </nav>
    <div class="wrapper">
      <aside class="doc__nav">
        <ul>
          <li class="js-btn selected">Get Started</li>
          <li class="js-btn">Design and Synthesis</li>
          <li class="js-btn">Deployment and Enactment</li>
          <li class="js-btn">Execution and Monitoring</li>
        </ul>
      </aside>
      <article class="doc__content">
        <section class="js-section">
          <h3 class="section__title">Get Started</h3>
          <p>Learn how to use the replication package.</p>
          <h3 class="section__title">Installation</h3>
          <p>Clone the replication package from <a href="https://github.com/sesygroup/choreography-synthesis-enactment" class="link link--light">Github</a> and build everything.</p>
          <div class="code__block code__block--notabs">
            <pre class="code code--block">
              <code>
                $ git clone https://github.com/sesygroup/choreography-synthesis-enactment.git choreography-synthesis-enactment
                $ cd choreography-synthesis-enactment
                $ mvn clean install
              </code>
            </pre>
          </div>
        </section>
        <section class="js-section">
          <h3 class="section__title">Design and Synthesis</h3>
          <p>The folder <span class="code code--inline">design-synthesis</span> contains the artefacts of the development activities covering the choreography design and the code synthesis.</p>
          <table id="customers">
            <tr>
              <th>Folder</th>
              <th>Description</th>
            </tr>
            <tr>
              <td>choreography</td>
              <td>Contains the BPMN2 choreography diagram of the In-store Marketing and Sale use case.</td>
            </tr>
            <tr>
              <td>choreography-architecture</td>
              <td>Contains the graphical representation of Choreography Architecture Description model.</td>
            </tr>
            <tr>
              <td>choreography-deployment</td>
              <td>Contains the Choreography Deployment Description model.</td>
            </tr>
            <tr>
              <td>coordination-delegates</td>
              <td>Contains the set of Coordination Delegates. Before building them, fix the pom file with the URL and the port of <span class="code code--inline">syncope</span> (monitor). Execute <span class="code code--inline">mvn clean verify</span> to apply the modifications, a war folder containing the compiled CDs is crated.</td>
            </tr>
            <tr>
              <td>existing-services</td>
              <td>Contains the set of business services. Before building them, fix the pom file with the number of running. Execute <span class="code code--inline">mvn clean verify</span> to apply the modifications, a war folder containing the compiled services is crated. Deploy these services where you want.</td>
            </tr>
          </table>
          <p>In-store Marketing and Sale BPMN2 choreography diagram</p><p><img class="img-responsive" src="./img/choreography.png" alt="In-store Marketing and Sale use case"></p>
          <hr />
        </section>
        <section class="js-section">
          <h3 class="section__title">Deployment and Enactment</h3>
          <p>The folder <span class="code code--inline">deployment-enactment</span> contains the enactment engine used for deploying the synthesized coordination delegates and for enacting the choreography.</p>
          <p>Malis percipitur an pro. Pro aperiam persequeris at, at sonet sensibus mei, id mea postulant definiebas concludaturque. Id qui malis abhorreant, mazim melius quo et. At eam altera dolorum, case dicant lobortis ius te, ad vel affert oportere reprehendunt. Quo no verterem deseruisse, mea brute postea te, ne per tacimates suavitate vituperatoribus.</p>
          <p>Malis percipitur an pro. Pro aperiam persequeris at, at sonet sensibus mei, id mea postulant definiebas concludaturque. Id qui malis abhorreant, mazim melius quo et. At eam altera dolorum, case dicant lobortis ius te, ad vel affert oportere reprehendunt. Quo no verterem deseruisse, mea brute postea te, ne per tacimates suavitate vituperatoribus.</p>
          <hr />
        </section>
        <section class="js-section">
          <h3 class="section__title">Execution and Monitoring</h3>
          <p>The folder <span class="code code--inline">execution-monitoring</span> contains the software artefacts required for executing and for monitoring the choreography.</p>
          <table id="customers">
            <tr>
              <th>Folder</th>
              <th>Description</th>
            </tr>
            <tr>
              <td>client-monitor</td>
              <td>It is a syncope connetor. Before building it, fix the pom file with the URL and the port of <span class="code code--inline">syncope</span> (monitor). This changing requires a rebuilding of the entire repository, so execute <span class="code code--inline">mvn clean install</span> in the folder <span class="code code--inline">choreography-synthesis-enactment</span>.</td>
            </tr>
            <tr>
              <td>choreography-instance-execution</td>
              <td>Creates new choreography instances. Before creating choreography instances, fix the pom file with the URL and the port of <span class="code code--inline">client</span> service, and with the number of instances that you want run. Execute <span class="code code--inline">mvn clean verify</span> to apply the modifications and then use <span class="code code--inline">mvn exec:java</span> to create choreography instances.</td>
            </tr>
            <tr>
              <td>retrieve-monitoring-data</td>
              <td>Use when all choreography instances end, to send to the monitor all the monitoring data. Before sending monitoring data, make sure that syncope is in running, and fix the pom file with the URL and the port of business services and CDs. Execute <span class="code code--inline">mvn clean verify</span> to apply the modifications and then use <span class="code code--inline">mvn exec:java</span> to send monitoring data.</td>
            </tr>
            <tr>
              <td>syncope</td>
              <td>It is the monitor. Startup the monitor with <span class="code code--inline">mvn -Pembedded</span> in the folder <span class="code code--inline">enduser</span>. When the monitor is in execution go to <span class="code code--inline">http://localhost:9080/syncope-console</span> to display it, provide the credential to access it <span class="code code--inline">username: admin</span> and <span class="code code--inline">password: password</span>, and go to <span class="code code--inline">Extensions</span> and then <span class="code code--inline">Choreographies</span> to show the set of monitored choreographies. When the monitor shutdowns all the monitoring data are erased, so to backup them execute <span class="code code--inline">curl -X GET -u admin:password -o MasterContent.xml http://localhost:9080/syncope/rest/configurations/stream</span>.</td>
            </tr>
            <tr>
              <td>execution-results</td>
              <td>Contains all the monitoring data about the 10 runnings of the In-store Marketing and Sale choreography. To show the data make sure that syncope is not in running, and substitute the syncope MasterContent.xml with one of these. To substitute the MasterContent.xml execute <span class="code code--inline">cp running-[NUM_RUNNING]/MasterContent.xml ../syncope/core/src/test/resources/domains/</span>. Execute <span class="code code--inline">mvn clean install</span> in the root folder of syncope to apply the modifications and then startup the monitor. </td>
            </tr>
          </table>
        </section>
      </article>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="scribbler.js"></script>
  </body>
</html>